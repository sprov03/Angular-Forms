<h1>User Page With Document Form Types</h1>

<form [formGroup]="userFormGroup" *ngIf="userFormGroup">
  <app-form-field label="First Name" [control]="userFormGroup.controls.firstName">
    <input [formControl]="userFormGroup.controls.firstName">
  </app-form-field>
  <app-form-field label="Last Name" [control]="userFormGroup.controls.lastName">
    <input [formControl]="userFormGroup.controls.lastName">
  </app-form-field>
  <app-todo-form [formGroup]="todoFormGroup" *ngFor="let todoFormGroup of userFormGroup.controls.todos.controls"></app-todo-form>

  <ng-container *ngIf="userFormGroup.controls['address']" [formGroup]="userFormGroup.controls['address']">
    <app-form-field label="State" [control]="userFormGroup.controls['address'].controls['state']">
      <input [formControl]="userFormGroup.controls['address'].controls['state']">
    </app-form-field>
    <app-form-field label="Zip" [control]="userFormGroup.controls['address'].controls['zip']">
      <input [formControl]="userFormGroup.controls.address.controls.zip">
    </app-form-field>
    <app-form-field label="Street" [control]="userFormGroup.controls['address'].controls['street']">
      <input [formControl]="userFormGroup.controls['address'].controls['street']">
    </app-form-field>
  </ng-container>
  <button (click)="addTodo()">Add Todo</button>
</form>

<button (click)="saveUser()">Save</button>
